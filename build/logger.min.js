/*! logger 2014-04-25 */
"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a,b){"function"!=typeof a._amapaq&&(a._amapaq=function(){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c]);(a._amapaq.q=a._amapaq.q||[]).push(b)},a._amapaq.q=[]),"function"==typeof define&&define.amd?define(function(){return b(a)}):"undefined"!=typeof module&&module.exports?module.exports=b(a):a._amapaq=b(a)}("undefined"!=typeof window?window:this,function(a){return"object"!=typeof AMapLog&&(AMapLog=function(){function b(a){return"function"==typeof a}function c(a){return"object"==typeof a}function d(a){return"string"==typeof a||a instanceof String}function e(a){var b;for(b in a)return!1;return!0}function f(a,b){for(var d in b){var e=b[d];b!==e&&(a[d]=c(e)?arguments.callee(a[d]||{},e):I(e)?arguments.callee(a[d]||[],e):encodeURIComponent(e))}return a}function g(a,c,d){var e={};if(b(c))for(var f in a){var g=a[f];c.call(d,g,f,a)&&(e[f]=g)}else for(var h=z.apply([],y.call(arguments,1)),i=0,j=h.length;j>i;i++){var f=h[i];f in a&&(e[f]=a[f])}return e}function h(){var a,b,c;for(a=0;a<arguments.length;a+=1)c=arguments[a],b=c.shift(),d(b)?s[b].apply(s,c):b.apply(s,c)}function i(){var a="";try{a=D.top.document.referrer}catch(b){if(D.parent)try{a=D.parent.document.referrer}catch(c){a=""}}return""===a&&(a=C.referrer),a}function j(a){var b=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),c=b.exec(a);return c?c[1]:a}function k(a,b){var c="[\\?&#]"+b+"=([^&#]*)",d=new RegExp(c),e=d.exec(a);return e?F(e[1]):""}function l(a){return G(E(a))}function m(){function a(a,b){var c=b||0,e=d;return e[a[c++]]+e[a[c++]]+e[a[c++]]+e[a[c++]]+"-"+e[a[c++]]+e[a[c++]]+"-"+e[a[c++]]+e[a[c++]]+"-"+e[a[c++]]+e[a[c++]]+"-"+e[a[c++]]+e[a[c++]]+e[a[c++]]+e[a[c++]]+e[a[c++]]+e[a[c++]]}for(var b=new Array(16),c=function(){for(var a,c=0;16>c;c++)0===(3&c)&&(a=4294967296*Math.random()),b[c]=a>>>((3&c)<<3)&255;return b},d=[],e=0;256>e;e++)d[e]=(e+256).toString(16).substr(1);var f=c();return f[6]=15&f[6]|64,f[8]=63&f[8]|128,a(f)}function n(a){var b,c,d,e,f,g,h,i,j,k,m=function(a,b){return a<<b|a>>>32-b},n=function(a){var b,c,d="";for(b=7;b>=0;b--)c=a>>>4*b&15,d+=c.toString(16);return d},o=[],p=1732584193,q=4023233417,r=2562383102,s=271733878,t=3285377520,u=[];for(a=l(a),k=a.length,c=0;k-3>c;c+=4)d=a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|a.charCodeAt(c+3),u.push(d);switch(3&k){case 0:c=2147483648;break;case 1:c=a.charCodeAt(k-1)<<24|8388608;break;case 2:c=a.charCodeAt(k-2)<<24|a.charCodeAt(k-1)<<16|32768;break;case 3:c=a.charCodeAt(k-3)<<24|a.charCodeAt(k-2)<<16|a.charCodeAt(k-1)<<8|128}for(u.push(c);14!==(15&u.length);)u.push(0);for(u.push(k>>>29),u.push(k<<3&4294967295),b=0;b<u.length;b+=16){for(c=0;16>c;c++)o[c]=u[b+c];for(c=16;79>=c;c++)o[c]=m(o[c-3]^o[c-8]^o[c-14]^o[c-16],1);for(e=p,f=q,g=r,h=s,i=t,c=0;19>=c;c++)j=m(e,5)+(f&g|~f&h)+i+o[c]+1518500249&4294967295,i=h,h=g,g=m(f,30),f=e,e=j;for(c=20;39>=c;c++)j=m(e,5)+(f^g^h)+i+o[c]+1859775393&4294967295,i=h,h=g,g=m(f,30),f=e,e=j;for(c=40;59>=c;c++)j=m(e,5)+(f&g|f&h|g&h)+i+o[c]+2400959708&4294967295,i=h,h=g,g=m(f,30),f=e,e=j;for(c=60;79>=c;c++)j=m(e,5)+(f^g^h)+i+o[c]+3395469782&4294967295,i=h,h=g,g=m(f,30),f=e,e=j;p=p+e&4294967295,q=q+f&4294967295,r=r+g&4294967295,s=s+h&4294967295,t=t+i&4294967295}return j=n(p)+n(q)+n(r)+n(s)+n(t),j.toLowerCase()}function o(a,b,c){return"translate.googleusercontent.com"===a?(""===c&&(c=b),b=k(b,"u"),a=j(b)):("cc.bingj.com"===a||"webcache.googleusercontent.com"===a||"74.6."===a.slice(0,5))&&(b=C.links[0].href,a=j(b)),[a,b,c]}function p(a){var b=a.length;return"."===a.charAt(--b)&&(a=a.slice(0,b)),"*."===a.slice(0,2)&&(a=a.slice(1)),a}function q(a){return a.substr(0,1).toUpperCase()+a.substr(1)}function r(){function a(a,b,c,d,e,f){var g;c&&(g=new Date,g.setTime(g.getTime()+c)),C.cookie=a+"="+E(b)+(c?";expires="+g.toGMTString():"")+";path="+(d||"/")+(e?";domain="+e:"")+(f?";secure":"")}function c(a){var b=new RegExp("(^|;)[ ]*"+a+"=([^;]*)"),c=b.exec(C.cookie);return c?F(c[2]):0}function d(a){return U+a+"."+B+"."+J}function h(){J=X((K||W)+(L||"/")).slice(0,4)}function j(a){var b=new Image(1,1);b.onload=function(){t=0},b.src=Q+(Q.indexOf("?")<0?"?":"&")+a}function k(){var a=["client_id="+x(),"session_id="+y(),"step_id="+$++,"product="+B];return O&&a.push("src="+O),G&&a.push("version="+G),a}function l(a,b){for(var c=a.length/b,d=[],e=0;c>e;e++)d.push(a.substr(e*b,b));return d}function r(a,b){var c=0;c+=Q.length,c+=44,c+=20,c+=10,c+=6,c+=30;var d=Y-c;d-=20,d-=10,d-=6,d-=30;for(var e=[],f=l(b,d),g=0;g<f.length;g++)e.push(["log_id="+a,"content="+f[g]].join("&"));return e}function s(a){for(var b,c=0,d=[10,20,30,40,50],e=0;e<d.length;e++)a.charCodeAt(d[e])&&(c+=a.charCodeAt(d[e]));return b=c.toString(16)}function u(a){if(a.length>1)for(var b=0;b<a.length;b++)a[b]+="&total="+a.length,a[b]+="&page="+(b+1),a[b]+="&verify="+s(a[b]);else a[0]+="&verify="+s(a[0]);return a}function v(a,b){var c,d=[];if(a&&b||(a=m(),b=k(),b.push("log_id="+a)),c=b.join("&"),(Q+c).length+30>Y){b.pop(),c=b.join("&");var e=c.length+Q.length+20+10+6+30,f=Y-e-20-10-6-30;c+="&content="+logContentStr.substr(0,f),d.push(c),d=d.concat(r(a,logContentStr.substr(f)))}else d.push(c);return d=u(d)}function w(){var a=(x(),[]),b=U+".trackerData."+J;if(R){var c=H.getItem(b)||[];T=T.concat(c)}if(T.length>0)for(var d=0;d<T.length;d++)a=a.concat(v(T[d].logId,T[d].data));else a=a.concat(v());for(var e=a.length-1;e>=0;e--)j(a[e]);T.length=0,H.removeItem(b)}function x(){var b=I||c(d("client_id"));return b||(b=m(),a(d("client_id"),b)),b}function y(){var a=(new Date).getTime();return N?a-Z>M&&(N=m()):N=m(),M=a,N}function z(a){O=a,P=y()}function A(a){a=a||{};var b=k(a),c=m(),d="";if(b.push("log_id="+c),a.position&&!e(a.position)){var h=g(a.position,"adcode","mapcenter","userloc");e(h)||b.push("position="+JSON.stringify(a.position))}if(a.content&&!e(a.content)){var i=g(a.content,"oprCategory","oprCmd","page","button","data");i=f({},i),e(i)||(d=JSON.stringify(i),b.push("content="+d))}return{logId:c,data:b}}var B,G,I,J,K,L,M,N,O,P,Q="//"+location.host+"/img/a.gif",R=!1,S=512e3,T=[],U="_amap_",V=o(C.domain,D.location.href,i()),W=p(V[0]),X=(V[1],V[2],n),Y=2e3,Z=36e5,$=0;h();var _={setTrackerUrl:function(a){Q=a},setProduct:function(a){B=a},setVersion:function(a){G=a},setReferrerFlag:z,setEnableLocal:function(a){R=!!a},setCookieNamePrefix:function(a){U=a},setClientId:function(a){I=a},setLocalSize:function(a){S=a}},ab={send:function(){w()}};return{config:function(a){var c="";for(var d in a)a.hasOwnProperty(d)&&(c="set"+q(d),b(_[c])&&_[c](a[d]))},data:function(a){if(a=A(a),R){var b=U+".trackerData."+J,c=H.getItem(b)||[];for(c.push(a);JSON.stringify(c).length>S;)c.shift();H.setItem(b,c)}else T.push(a)},action:function(a){a&&ab[a]&&ab[a]()}}}var s,t,u,v=Array.prototype,w=Object.prototype,x=Function.prototype,y=(v.push,v.slice),z=v.concat,A=w.toString,B=(w.hasOwnProperty,Array.isArray),C=(Object.keys,x.bind,document),D=a,E=D.encodeURIComponent,F=D.decodeURIComponent,G=unescape,H=function(){var a=!1,b={},c=D.JSON;try{a=D.localStorage,a.setItem("TEST","1"),a.removeItem("TEST")}catch(d){a=!1}return c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,a?{setItem:function(b,d){var e=c.stringify(d);a.setItem(b,e)},getItem:function(b){var d=a.getItem(b);return d?c.parse(d):void 0},removeItem:function(b){a.removeItem(b)}}:{setItem:function(a,c){c&&(b[a]=c)},getItem:function(a){return b[a]},removeItem:function(a){delete b[a]}}}(),I=B||function(a){return"[object Array]"==A.call(a)};for(s=new r,t=0;t<_amapaq.q.length;t++)"config"===_amapaq.q[t][0]&&(h(_amapaq.q[t]),delete _amapaq.q[t]);for(t=0;t<_amapaq.q.length;t++)_amapaq.q[t]&&h(_amapaq.q[t]);return _amapaq.q.length=0,delete _amapaq.q,_amapaq=function(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);h(a)},u={}}()),_amapaq});